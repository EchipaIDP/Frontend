import{_ as m,n as p,g as y,i as f,h as _,a as g,r as n,b as i,o as l,c as a,t as u,d as h,e as t,w as r,v as d,F as v,f as b}from"./index.f4c65db3.js";const C={name:"EditHook",data:function(){return{name:null,category:null,description:null,id:Number,msg:null,popMenu:!1}},beforeMount(){this.name=p,this.category=y,this.id=f,this.description=_},methods:{addProduct(){this.name==null||this.name.length===0?this.category==null||this.category.length===0?this.msg="Name and category are mandatory":this.msg="Name is mandatory.":this.category==null||this.category.length===0?this.msg="Category is mandatory":(this.msg="Succesfully added",g.post("https://bookservice.idproj.me/products/save",{name:this.name,category:this.category,description:this.description}).then(function(o){n.push("catalog"),n.go(1),window.location.reload(),console.log(o)}).catch(function(o){console.log(o)}),n.push("catalog"),n.go(1))},redirect(){n.push("/login"),n.go(1)},isLoggedIn(){return console.log(i.get("loggedIn")),console.log(i.get("loggedIn")==="true"),i.get("loggedIn")!=="false"},confirmChanges(){this.name==null||this.name.length===0?this.category==null||this.category.length===0?this.msg="Name and category are mandatory":this.msg="Name is mandatory.":this.category==null||this.category.length===0?this.msg="Category is mandatory":this.$swal({title:"Are you sure ?",text:"You will not be able to recover this page !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, change it !",cancelButtonText:"No, cancel !",closeOnConfirm:!1,closeOnCancel:!1}).then(o=>{o.value?(console.log("ajunge la modify"),g.put("https://bookservice.idproj.me/products/modify",{name:this.name,category:this.category,description:this.description,ID:this.id},{params:{token:i.get("loggedIn")}}).then(function(e){this.msg=null,console.log(e)}).catch(function(e){console.log(e)}),n.push("catalog")):(this.$swal("Cancelled","Your page has not been deleted !","error"),n.push("catalog"))})}}},w={key:0},x={class:"container",id:"bigContainer"},k=t("div",{class:"row-xxl-100",id:"firstRow"},[t("h1",{id:"appTitle"},"Application Header")],-1),B={class:"row"},$={class:"col",id:"col1"},N=t("img",{src:b,id:"catalogImg",alt:""},null,-1),I=[N],D=t("div",{class:"col-xxl"},[t("h1",{id:"pageTitle"},"Edit item")],-1),E={class:"row"},T={class:"col",id:"col2"},V={class:"col-xxl",id:"xxlCol"},j=t("tr",null,"Name*:",-1),H=t("tr",null,"Category*:",-1),M=t("tr",null,"Description:",-1),P=t("tr",null," *The marked fields are mandatory. ",-1),U={key:0,class:"alert alert-danger",role:"alert"};function Y(o,e,A,F,L,c){return l(),a(v,null,[this.isLoggedIn()?h("",!0):(l(),a("div",w,u(this.redirect()),1)),t("body",null,[t("div",x,[k,t("div",B,[t("div",$,[t("button",{class:"btn",id:"homeButton",onClick:e[0]||(e[0]=s=>{o.$router.push("catalog"),o.$router.go(1)})},I)]),D]),t("div",E,[t("div",T,[t("button",{class:"btn btn-toolbar",id:"btH",onClick:e[1]||(e[1]=s=>{o.$router.push("/catalog"),o.$router.go(1)})},"Catalog")]),t("div",V,[t("table",null,[t("tbody",null,[j,t("tr",null,[r(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>this.name=s)},null,512),[[d,this.name]])]),H,t("tr",null,[r(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>this.category=s)},null,512),[[d,this.category]])]),M,t("tr",null,[r(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>this.description=s)},null,512),[[d,this.description]])]),t("tr",null,[t("button",{type:"button",class:"btn btn-success",onClick:e[5]||(e[5]=(...s)=>c.confirmChanges&&c.confirmChanges(...s)),id:"addButton"},"Edit")]),P,t("tr",null,[this.msg!==null?(l(),a("div",U,u(this.msg),1)):h("",!0)])])])])])])])],64)}var S=m(C,[["render",Y]]);export{S as default};
